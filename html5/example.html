<!DOCTYPE html>
<html>

<head>
	<link rel = "stylesheet" type = "text/css" href = "./main.css">

	<meta name = "apple-mobile-web-app-capable" content = "yes" />
	<meta name = "viewport" content = "width=device-width, initial-scale=1.0">

	<script type = "text/javascript">
		// From: Quentin @ stackoverflow
		// Url: http://stackoverflow.com/questions/979975/how-to-get-the-value-from-url-parameter
		// Thank you Quentin!
		var QueryString = function () {
		  // This function is anonymous, is executed immediately and 
		  // the return value is assigned to QueryString!
		  var query_string = {};
		  var query = window.location.search.substring(1);
		  var vars = query.split("&");
		  for (var i=0;i<vars.length;i++) {
			var pair = vars[i].split("=");
				// If first entry with this name
			if (typeof query_string[pair[0]] === "undefined") {
			  query_string[pair[0]] = pair[1];
				// If second entry with this name
			} else if (typeof query_string[pair[0]] === "string") {
			  var arr = [ query_string[pair[0]], pair[1] ];
			  query_string[pair[0]] = arr;
				// If third or later entry with this name
			} else {
			  query_string[pair[0]].push(pair[1]);
			}
		  } 
			return query_string;
		} ();

		var strMod = QueryString.mod;
		var strFlash = QueryString.flash;
		var bFlash = false;

		if (strFlash == "true")
			bFlash = true;

		if (strMod == null)
			strMod = "";
	</script>
	<script type = "text/javascript">
		var RadXML_useEval = false;
		var RadXML_skipDebuggerHelper = false;
		var RadXML_skipFlash = !bFlash;
	</script>
	<script type = "text/javascript" src = "./RadXml/RadXml.js"></script>
	<script type = "text/javascript">
		function setupRadXml ()
		{
			RadXML.initialize ("mainCanvas");
			RadXML.loadXml ("./data/spuzzle/mods/" + strMod + "/index.xml");
		}
	</script>
</head>

<body onload = "setupRadXml ();" style = "background-color: #00FF00;">
	<canvas id = "mainCanvas" width = "960" height = "480">
	</canvas>
</body>

</html>

